<!DOCTYPE html>
<html>
  <head>
    <title>Compare Files</title>
  </head>
  <body>
    <h2>Compare Common Words</h2>

    <p>Select the two text files:</p>

    <input type="file" id="file1" /><br /><br />
    <input type="file" id="file2" /><br /><br />

    <button onclick="compareFiles()">Compare</button>

    <h3>Hidden message:</h3>
    <pre id="result"></pre>

    <script>
      function readFile(file) {
        return new Promise((resolve, reject) => {
          const reader = new FileReader();
          reader.onload = () =>
            resolve(reader.result.split("\n").map((p) => p.trim()));
          reader.onerror = () => reject(reader.error);
          reader.readAsText(file);
        });
      }

      async function compareFiles() {
        const file1 = document.getElementById("file1").files[0];
        const file2 = document.getElementById("file2").files[0];

        if (!file1 || !file2) {
          alert("Please select both files.");
          return;
        }

        const words1 = await readFile(file1);
        const words2 = await readFile(file2);

        const set1 = new Set(words1);
        const set2 = new Set(words2);

        const common = [...set1].filter((word) => set2.has(word));
        const message =
          common.length > 0 ? common.join(" ") : "No common words found.";

        document.getElementById("result").textContent = message;
      }
    </script>
  </body>
</html>
